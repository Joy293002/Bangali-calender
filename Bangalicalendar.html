<!DOCTYPE html>
<html lang="en","bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bengali Calendar 2026 (‡ßß‡ß™‡ß©‡ß®-‡ßß‡ß™‡ß©‡ß©)</title>
    <style>
        :root {
            --primary: #d32f2f; /* Traditional Panjika Red */
            --secondary: #fbc02d; /* Gold/Yellow */
            --text: #333;
            --bg: #fffbf0;
            --holiday: #ffcdd2;
            --bank-closed: #e0e0e0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: #fff;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #ddd;
        }

        /* Header */
        header {
            background-color: var(--primary);
            color: white;
            padding: 20px;
            text-align: center;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        header h1 { margin: 0; font-size: 1.5rem; }
        header button {
            background: rgba(255,255,255,0.2);
            border: 1px solid white;
            color: white;
            padding: 5px 15px;
            cursor: pointer;
            font-weight: bold;
            border-radius: 4px;
        }
        header button:hover { background: rgba(255,255,255,0.4); }

        /* Calendar Grid */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            border-bottom: 1px solid #eee;
        }

        .day-name {
            background: #eee;
            font-weight: bold;
            text-align: center;
            padding: 10px;
            border-right: 1px solid #ddd;
            color: #555;
        }
        .day-name.sunday { color: var(--primary); }

        .day-cell {
            min-height: 100px;
            border-right: 1px solid #eee;
            border-bottom: 1px solid #eee;
            padding: 5px;
            position: relative;
            background: #fff;
            transition: background 0.2s;
        }
        .day-cell:hover { background-color: #f9f9f9; }

        /* Day Styling */
        .eng-date { font-size: 1.2rem; font-weight: bold; }
        .ben-date { 
            font-size: 0.9rem; 
            color: var(--primary); 
            position: absolute; 
            top: 5px; 
            right: 5px; 
            font-family: 'Galada', serif; /* Fallback will work */
        }
        
        /* Event Indicators */
        .event {
            font-size: 0.75rem;
            margin-top: 4px;
            padding: 2px 4px;
            border-radius: 3px;
            display: block;
        }
        .holiday-tag { background-color: var(--holiday); color: #b71c1c; border-left: 3px solid #b71c1c; }
        .moon-tag { background-color: #e3f2fd; color: #0d47a1; border-left: 3px solid #0d47a1; }
        .bank-closed-tag { background-color: #424242; color: #fff; font-size: 0.65rem; display: inline-block;}

        /* Sidebar / Info Panel */
        .info-panel {
            padding: 20px;
            background: #fafafa;
            border-top: 1px solid #ddd;
        }
        .info-panel h3 { margin-top: 0; color: var(--primary); }
        .moon-details { font-size: 0.9rem; line-height: 1.5; }
        .moon-time { font-weight: bold; color: #555; }

        /* Responsive */
        @media (max-width: 768px) {
            .day-cell { min-height: 80px; font-size: 0.9rem; }
            .ben-date { font-size: 0.8rem; }
            .calendar-grid { grid-template-columns: repeat(7, 1fr); }
            header h1 { font-size: 1.1rem; }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <button onclick="changeMonth(-1)">‚ùÆ Prev</button>
        <h1 id="monthYearDisplay">Loading...</h1>
        <button onclick="changeMonth(1)">Next ‚ùØ</button>
        
    </header>

    <div class="calendar-grid">
        <div class="day-name sunday">Sun(‡¶∞‡¶¨‡¶ø) </div>
        <div class="day-name">Mon(‡¶∏‡ßã‡¶Æ)
          </div>
        <div class="day-name">Tue(‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤)
          </div>
        <div class="day-name">Wed(‡¶¨‡ßÅ‡¶ß)
          </div>
        <div class="day-name">Thu(‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø)
          </div>
        <div class="day-name">Fri(‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞)
          </div>
        <div class="day-name">Sat(‡¶∂‡¶®‡¶ø)
          </div>
    </div>
    
    <div id="calendarDays" class="calendar-grid">
        </div>

    <div class="info-panel" id="moonPanel">
        <h3>üåô Moon Phases & Holidays this Month</h3>
        <div id="moonInfoContent">Select a month to see details.</div>
    </div>
</div>

<script>
    // --- Configuration & Data ---
    const currentYear = 2026;
    let currentMonth = 0; // 0 = Jan, 11 = Dec

    // Bengali Month Names
    const bengaliMonths = [
        "Poush", "Magh", "Falgun", "Chaitra", "Boishakh", "Joishtho", 
        "Asharh", "Srabon", "Bhadro", "Ashwin", "Kartik", "Ogrohayon"
    ];
    // Corresponding Bengali Script Names
    const bengaliMonthsScript = [
        "‡¶™‡ßå‡¶∑", "‡¶Æ‡¶æ‡¶ò", "‡¶´‡¶æ‡¶≤‡ßç‡¶ó‡ßÅ‡¶®", "‡¶ö‡ßà‡¶§‡ßç‡¶∞", "‡¶¨‡ßà‡¶∂‡¶æ‡¶ñ", "‡¶ú‡ßç‡¶Ø‡ßà‡¶∑‡ßç‡¶†", 
        "‡¶Ü‡¶∑‡¶æ‡¶¢‡¶º", "‡¶∂‡ßç‡¶∞‡¶æ‡¶¨‡¶£", "‡¶≠‡¶æ‡¶¶‡ßç‡¶∞", "‡¶Ü‡¶∂‡ßç‡¶¨‡¶ø‡¶®", "‡¶ï‡¶æ‡¶∞‡ßç‡¶§‡¶ø‡¶ï", "‡¶Ö‡¶ó‡ßç‡¶∞‡¶π‡¶æ‡¶Ø‡¶º‡¶£"
    ];

    // Data: Holidays (West Bengal 2026)
    const holidays2026 = {
        "1-1": "New Year's Day",
        "1-12": "Swami Vivekananda Jayanti",
        "1-23": "Netaji Jayanti/Saraswati Puja",
        "1-26": "Republic Day",
        "2-15": "Maha Shivaratri",
        "3-3": "Doljatra",
        "3-4": "Holi",
        "3-21": "Id-Ul-Fitr (Tentative)",
        "4-3": "Good Friday",
        "4-14": "Ambedkar Jayanti",
        "4-15": "Bengali New Year (Nababarsha)",
        "5-1": "May Day / Buddha Purnima",
        "5-9": "Rabindra Jayanti",
        "5-27": "Id-Ud-Zoha (Tentative)",
        "8-15": "Independence Day",
        "8-28": "Raksha Bandhan",
        "10-2": "Gandhi Jayanti",
        "10-10": "Mahalaya",
        "10-18": "Durga Puja (Saptami)",
        "10-19": "Durga Puja (Ashtami)",
        "10-20": "Durga Puja (Nabami)",
        "10-21": "Durga Puja (Dashami)",
        "10-25": "Lakshmi Puja",
        "11-8": "Kali Puja / Diwali",
        "12-25": "Christmas"
    };

    // Data: Moon Phases 2026 (Purnima & Amavasya)
    // Format: key (month-date) -> { type: 'Purnima'/'Amavasya', time: 'Start - End' }
    // Note: Dates here are based on the day the Tithi *ends* or is celebrated.
    const moonPhases2026 = [
        { d: "2026-01-03", type: "‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶ø‡¶Æ‡¶æ(Purnima)", time: "Jan 02, 6:53 PM (18:53) - Jan 03, 3:32 PM (15:32)" },
        { d: "2026-01-18", type: "‡¶Ö‡¶Æ‡¶æ‡¶¨‡¶∏‡ßç‡¶Ø‡¶æ(Amavasya)", time: "Jan 18, 00:03 - Jan 19, 01:21" },
        { d: "2026-02-01", type: "‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶ø‡¶Æ‡¶æ(Purnima)", time: "Feb 01, 05:52 - Feb 02, 03:38" },
        { d: "2026-02-17", type: "‡¶Ö‡¶Æ‡¶æ‡¶¨‡¶∏‡ßç‡¶Ø‡¶æ(Amavasya)", time: "Feb 16, 17:34 - Feb 17, 17:30" },
        { d: "2026-03-03", type: "‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶ø‡¶Æ‡¶æ(Purnima)", time: "Mar 02, 17:55 - Mar 03, 17:07" },
        { d: "2026-03-19", type: "‡¶Ö‡¶Æ‡¶æ‡¶¨‡¶∏‡ßç‡¶Ø‡¶æ(Amavasya)", time: "Mar 18, 08:25 - Mar 19, 06:52" },
        { d: "2026-04-02", type: "‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶ø‡¶Æ‡¶æ(Purnima)", time: "Apr 01, 07:06 - Apr 02, 07:41" },
        { d: "2026-04-17", type: "‡¶Ö‡¶Æ‡¶æ‡¶¨‡¶∏‡ßç‡¶Ø‡¶æ(Amavasya)", time: "Apr 16, 20:11 - Apr 17, 17:21" },
        { d: "2026-05-01", type: "‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶ø‡¶Æ‡¶æ(Purnima)", time: "Apr 30, 21:12 - May 01, 22:52" },
        { d: "2026-05-16", type: "‡¶Ö‡¶Æ‡¶æ‡¶¨‡¶∏‡ßç‡¶Ø‡¶æ(Amavasya)", time: "May 16, 05:11 - May 17, 01:30" },
        { d: "2026-05-31", type: "‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶ø‡¶Æ‡¶æ(Purnima)", time: "May 30, 11:57 - May 31, 14:14" },
        { d: "2026-06-15", type: "‡¶Ö‡¶Æ‡¶æ‡¶¨‡¶∏‡ßç‡¶Ø‡¶æ(Amavasya)", time: "Jun 14, 12:19 - Jun 15, 08:23" },
        { d: "2026-06-29", type: "‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶ø‡¶Æ‡¶æ(Purnima)", time: "Jun 29, 03:06 - Jun 30, 05:26" },
        { d: "2026-07-14", type: "‡¶Ö‡¶Æ‡¶æ‡¶¨‡¶∏‡ßç‡¶Ø‡¶æ(Amavasya)", time: "Jul 13, 18:49 - Jul 14, 15:12" },
        { d: "2026-07-29", type: "‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶ø‡¶Æ‡¶æ(Purnima)", time: "Jul 28, 18:18 - Jul 29, 20:05" },
        { d: "2026-08-12", type: "‡¶Ö‡¶Æ‡¶æ‡¶¨‡¶∏‡ßç‡¶Ø‡¶æ(Amavasya)", time: "Aug 12, 01:52 - Aug 12, 23:06" },
        { d: "2026-08-28", type: "‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶ø‡¶Æ‡¶æ(Purnima)", time: "Aug 27, 09:08 - Aug 28, 09:48" },
        { d: "2026-09-11", type: "‡¶Ö‡¶Æ‡¶æ‡¶¨‡¶∏‡ßç‡¶Ø‡¶æ(Amavasya)", time: "Sep 10, 10:33 - Sep 11, 08:56" },
        { d: "2026-09-26", type: "‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶ø‡¶Æ‡¶æ(Purnima)", time: "Sep 25, 23:06 - Sep 26, 22:18" },
        { d: "2026-10-10", type: "‡¶Ö‡¶Æ‡¶æ‡¶¨‡¶∏‡ßç‡¶Ø‡¶æ(Amavasya)", time: "Oct 09, 21:35 - Oct 10, 21:19" },
        { d: "2026-10-26", type: "‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶ø‡¶Æ‡¶æ(Purnima)", time: "Oct 25, 11:55 - Oct 26, 09:41" },
        { d: "2026-11-09", type: "‡¶Ö‡¶Æ‡¶æ‡¶¨‡¶∏‡ßç‡¶Ø‡¶æ(Amavasya)", time: "Nov 08, 11:27 - Nov 09, 12:31" },
        { d: "2026-11-24", type: "‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶ø‡¶Æ‡¶æ(Purnima)", time: "Nov 23, 23:42 - Nov 24, 20:23" },
        { d: "2026-12-08", type: "‡¶Ö‡¶Æ‡¶æ‡¶¨‡¶∏‡ßç‡¶Ø‡¶æ(Amavasya)", time: "Dec 08, 04:12 - Dec 09, 06:21" },
        { d: "2026-12-23", type: "‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶ø‡¶Æ‡¶æ(Purnima)", time: "Dec 23, 16:30 - Dec 24, 13:30" } // Approx for late Dec
    ];

    // --- Helpers ---

    // Simple converter: Returns Bengali Date (Day & Month Index)
    // 2026 Logic: Poila Boishakh is April 15.
    function getBengaliDate(year, month, day) {
        // This is a simplified algorithm. Real panjikas vary by minutes.
        // We use the standard West Bengal convention where month changes around 15th-17th.
        
        // Month Starts in 2026 (Approximate Sankranti/Start dates)
        // Jan 15 (Magh), Feb 14 (Falgun), Mar 15 (Chaitra), Apr 15 (Boishakh), May 16 (Joishtho)
        // Jun 16 (Asharh), Jul 17 (Srabon), Aug 17 (Bhadro), Sep 17 (Ashwin), Oct 18 (Kartik)
        // Nov 17 (Ogrohayon), Dec 17 (Poush)
        
        const startDates = [
             15, // Jan -> Magh starts Jan 15 (So Jan 1-14 is Poush)
             14, // Feb -> Falgun starts Feb 14
             15, // Mar -> Chaitra starts Mar 15
             15, // Apr -> Boishakh starts Apr 15
             16, // May -> Joishtho starts May 16
             16, // Jun -> Asharh starts Jun 16
             17, // Jul -> Srabon starts Jul 17
             17, // Aug -> Bhadro starts Aug 17
             17, // Sep -> Ashwin starts Sep 17
             18, // Oct -> Kartik starts Oct 18
             17, // Nov -> Ogrohayon starts Nov 17
             17  // Dec -> Poush starts Dec 17
        ];

        let benMonthIndex, benDay;
        let changeDate = startDates[month];

        if (day >= changeDate) {
            // New Bengali Month
            benDay = day - changeDate + 1;
            // Mapping English Month to Bengali Month index (0=Poush...4=Boishakh...)
            // Jan(0) after 15th is Magh(1)
            if (month === 0) benMonthIndex = 1; // Magh
            else if (month === 1) benMonthIndex = 2; // Falgun
            else if (month === 2) benMonthIndex = 3; // Chaitra
            else if (month === 3) benMonthIndex = 4; // Boishakh (New Year 1433)
            else if (month === 4) benMonthIndex = 5;
            else if (month === 5) benMonthIndex = 6;
            else if (month === 6) benMonthIndex = 7;
            else if (month === 7) benMonthIndex = 8;
            else if (month === 8) benMonthIndex = 9;
            else if (month === 9) benMonthIndex = 10;
            else if (month === 10) benMonthIndex = 11;
            else if (month === 11) benMonthIndex = 0; // Poush
        } else {
            // Previous Bengali Month
            // We need days in previous Bengali month to calculate date
            // Simplified: adding offset approx 29-30.
            benDay = day + (30 - changeDate) + 1; // Approx calculation
            if(month === 3) benDay = day + 16; // Special fix for Chaitra end
            
            if (month === 0) benMonthIndex = 0; // Poush
            else if (month === 1) benMonthIndex = 1; 
            else if (month === 2) benMonthIndex = 2;
            else if (month === 3) benMonthIndex = 3;
            else if (month === 4) benMonthIndex = 4; // Boishakh
            // ... Logic simplified for UI demo.
            // Correct mapping for previous month:
            let prevMonthMap = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];
            benMonthIndex = prevMonthMap[month]; 
        }

        // Fix Index wrapping
        // Jan 1 is Poush.
        // Apr 15 starts Boishakh (Index 4).
        
        // Recalculate strict Logic for display:
        // Jan: <15 Poush, >=15 Magh
        // Feb: <14 Magh, >=14 Falgun
        // ...
        
        const benMonthsOrdered = [
            "Poush", "Magh", "Falgun", "Chaitra", // 1432
            "Boishakh", "Joishtho", "Asharh", "Srabon", "Bhadro", "Ashwin", "Kartik", "Ogrohayon", "Poush" // 1433
        ];
        
        let mIdx = month; 
        if (day >= changeDate) mIdx++;
        
        // Map 0(Jan) -> Poush(0) if <15, Magh(1) if >15.
        // The array benMonthsOrdered handles this shift relative to Jan start.
        
        // We render just the number for the view
        const bnDigits = ['‡ß¶','‡ßß','‡ß®','‡ß©','‡ß™','‡ß´','‡ß¨','‡ß≠','‡ßÆ','‡ßØ'];
        const benDayStr = benDay.toString().split('').map(d => bnDigits[d]).join('');
        
        return { day: benDayStr, month: benMonthsOrdered[mIdx] };
    }

    function isBankHoliday(day, dayOfWeek) {
        // Sundays are always closed
        if (dayOfWeek === 0) return true;
        // 2nd and 4th Saturdays
        if (dayOfWeek === 6) {
            const weekNum = Math.ceil(day / 7);
            if (weekNum === 2 || weekNum === 4) return true;
        }
        return false;
    }

    function renderCalendar(month, year) {
        const firstDay = new Date(year, month, 1);
        const lastDay = new Date(year, month + 1, 0);
        const daysInMonth = lastDay.getDate();
        const startDayOfWeek = firstDay.getDay();

        const grid = document.getElementById("calendarDays");
        const monthDisplay = document.getElementById("monthYearDisplay");
        const moonPanel = document.getElementById("moonInfoContent");
        
        grid.innerHTML = "";
        monthDisplay.innerText = `${new Date(year, month).toLocaleString('default', { month: 'long' })} ${year}`;

        // Moon & Holiday Info Accumulator
        let moonHtml = "<ul style='padding-left:20px;'>";
        let hasMoon = false;

        // Empty cells for days before start of month
        for (let i = 0; i < startDayOfWeek; i++) {
            let cell = document.createElement("div");
            cell.classList.add("day-cell");
            cell.style.background = "#f9f9f9";
            grid.appendChild(cell);
        }

        for (let d = 1; d <= daysInMonth; d++) {
            let cell = document.createElement("div");
            cell.className = "day-cell";
            const dateStr = `${month + 1}-${d}`; // Format M-D
            const fullDateStr = `${year}-${String(month+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
            const dayOfWeek = new Date(year, month, d).getDay();

            // English Date
            let engSpan = document.createElement("div");
            engSpan.className = "eng-date";
            engSpan.innerText = d;
            if (dayOfWeek === 0) engSpan.style.color = "red";
            cell.appendChild(engSpan);

            // Bengali Date
            let benDateObj = getBengaliDate(year, month, d);
            let benSpan = document.createElement("div");
            benSpan.className = "ben-date";
            benSpan.innerText = benDateObj.day;
            cell.appendChild(benSpan);

            // 1. Check Bank Holiday (Weekend)
            if (isBankHoliday(d, dayOfWeek)) {
                let tag = document.createElement("span");
                tag.className = "event bank-closed-tag";
                tag.innerText = dayOfWeek === 0 ? "Sun" : "Bank Closed";
                cell.appendChild(tag);
                cell.style.backgroundColor = "#fff0f0";
            }

            // 2. Check Govt Holiday
            if (holidays2026[dateStr]) {
                let tag = document.createElement("span");
                tag.className = "event holiday-tag";
                tag.innerText = holidays2026[dateStr];
                cell.appendChild(tag);
                cell.style.backgroundColor = "#ffebee";
                
                moonHtml += `<li><strong>${d} ${new Date(year, month).toLocaleString('default', { month: 'short' })}:</strong> ${holidays2026[dateStr]} <span style='color:red'>(Holiday)</span></li>`;
                hasMoon = true;
            }

            // 3. Check Moon Phase
            let moon = moonPhases2026.find(m => m.d === fullDateStr);
            if (moon) {
                let tag = document.createElement("span");
                tag.className = "event moon-tag";
                tag.innerText = moon.type === 'Purnima' ? '‚óã Purnima' : '‚óè Amavasya';
                if(moon.type === 'Amavasya') {
                    tag.style.background = "#333";
                    tag.style.color = "#fff";
                }
                cell.appendChild(tag);
                
                moonHtml += `<li><strong>${moon.type} (${d}th):</strong> <br> <span class="moon-time">${moon.time}</span></li>`;
                hasMoon = true;
            }

            grid.appendChild(cell);
        }
        
        moonHtml += "</ul>";
        moonPanel.innerHTML = hasMoon ? moonHtml : "No major festivals or moon phases listed for this month.";
    }

    function changeMonth(step) {
        currentMonth += step;
        if (currentMonth > 11) {
            currentMonth = 0;
            // Year logic could be added here if needed for > 2026
        } else if (currentMonth < 0) {
            currentMonth = 11;
        }
        // Restrict to 2026 for this demo data
        renderCalendar(currentMonth, currentYear);
    }

    // Initialize
    renderCalendar(currentMonth, currentYear);

</script>

</body>
</html>
